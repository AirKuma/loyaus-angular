<div class="container-fluid">
	<div class="row">
		<div class="col-md-6 col-centered card card-block" style="background-color: #FFFFFF;">
			<div class="panel panel-default">
        <form class="form-horizontal" role="form" [formGroup]="PasswordForm" novalidate>
						<!--<input type="hidden" name="_token" value="{{ csrf_token() }}">
						<input type="hidden" name="token" value="{{ $token }}">-->

						<div class="form-group">
							<label class="control-label">E-Mail</label>
							<div>
								<input type="email" class="form-control" name="email" formControlName="email">
							</div>
						</div>

            <div *ngIf="!PasswordForm.controls.email.valid && !PasswordForm.controls.email.pristine" class="alert alert-danger">
              <div *ngIf="PasswordForm.controls.email.hasError('required')">
                  請輸入你的電子郵件
              </div>
              <div *ngIf="PasswordForm.controls.email.hasError('emailValidator')">
                  請確定電子郵件格式有沒有錯誤
              </div>
              <div *ngIf="PasswordForm.controls.email.hasError('collegeEmailValidator')">
                  E-mail必須符合學校格式
              </div>
            </div>

						<div class="form-group">
							<label class="control-label">新密碼</label>
							<div>
								<input type="password" class="form-control" name="password" formControlName="password">
							</div>
						</div>

            <div *ngIf="!PasswordForm.controls.password.valid && !PasswordForm.controls.password.pristine" class="alert alert-danger">
              <div *ngIf="PasswordForm.controls.password.hasError('required')">
                  請輸入新密碼
              </div>
              <div *ngIf="PasswordForm.controls.password.hasError('minlength')">
                  新密碼至少要6個字
              </div>
            </div>

						<div class="form-group">
							<label class="control-label">確認密碼</label>
							<div>
								<input type="password" class="form-control" name="password_confirmation" formControlName="password_confirmation">
							</div>
						</div>

            <div *ngIf="!PasswordForm.controls.password_confirmation.valid && !PasswordForm.controls.password_confirmation.pristine" class="alert alert-danger">
              <div *ngIf="PasswordForm.controls.password_confirmation.hasError('required')">
                  請輸入確認密碼
              </div>
              <div *ngIf="PasswordForm.controls.password_confirmation.hasError('minlength')">
                  密碼至少要有6個字元
              </div>
              <div *ngIf="PasswordForm.controls.password_confirmation.hasError('notEquivalent')">
                  與新密碼不相同
              </div>
            </div>

						<div class="form-group">
							<div>
								<button type="submit" class="btn btn-secondary" (click)="resetPassword()" [disabled]="!PasswordForm.controls.email.valid || !PasswordForm.controls.password.valid || !PasswordForm.controls.password_confirmation.valid || sandbutton==0">
									重設密碼
								</button>
							</div>
						</div>
					</form>
			</div>
		</div>
	</div>
</div>

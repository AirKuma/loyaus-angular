<h3 class="card-title">個人帳號</h3>

<form [formGroup]="updatePasswordForm" novalidate>                      

  <div class="form-group">
    <label for="email">學校電郵</label>
    <input class="form-control" disabled="disabled" name="email" type="text" value="{{ useremail }}" id="email">
  </div>

  <div class="form-group">
    <label for="old_password">現在密碼</label>
    <input class="form-control" name="old_password" type="password" formControlName="old_password" placeholder="現在密碼" id="old_password">
  </div>   

  <div *ngIf="!updatePasswordForm.controls.old_password.valid && !updatePasswordForm.controls.old_password.pristine" class="alert alert-danger">
    <div *ngIf="updatePasswordForm.controls.old_password.hasError('required')">
        請輸入現在密碼
    </div>
    <div *ngIf="updatePasswordForm.controls.old_password.hasError('minlength')">
        現在密碼至少6個字
    </div>
    <div *ngIf="updatePasswordForm.controls.old_password.hasError('currentPassword')">
        現在密碼錯誤
    </div>
  </div>                     

  <div class="form-group">
    <label for="password">新密碼</label>
    <input class="form-control" name="password" type="password" formControlName="password" placeholder="新密碼" id="password">
  </div>

  <div *ngIf="!updatePasswordForm.controls.password.valid && !updatePasswordForm.controls.password.pristine" class="alert alert-danger">
    <div *ngIf="updatePasswordForm.controls.password.hasError('required')">
        請輸入新密碼
    </div>
    <div *ngIf="updatePasswordForm.controls.password.hasError('minlength')">
        新密碼至少要6個字
    </div>
  </div>

  <div class="form-group">
    <label for="password_confirmation">重輸新密碼</label>
    <input class="form-control" name="password_confirmation" type="password" formControlName="password_confirmation" placeholder="再次輸入新密碼" id="password_confirmation">
  </div>

  <div *ngIf="!updatePasswordForm.controls.password_confirmation.valid && !updatePasswordForm.controls.password_confirmation.pristine" class="alert alert-danger">
    <div *ngIf="updatePasswordForm.controls.password_confirmation.hasError('required')">
        請輸入重輸新密碼
    </div>
    <div *ngIf="updatePasswordForm.controls.password_confirmation.hasError('minlength')">
        密碼至少要有6個字元
    </div>
    <div *ngIf="updatePasswordForm.controls.password_confirmation.hasError('notEquivalent')">
        與新密碼不相同
    </div>
  </div>

  <input class="btn btn-secondary" type="submit" value="更改" (click)="editPassword(updatePasswordForm)" [disabled]="!updatePasswordForm.controls.old_password.valid || !updatePasswordForm.controls.password.valid || !updatePasswordForm.controls.password_confirmation.valid || sandbutton==0">

</form>